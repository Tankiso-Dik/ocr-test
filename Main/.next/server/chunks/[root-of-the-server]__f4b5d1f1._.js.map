{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/tabkiso-mpela/Documents/ocr-test/Main/app/api/ocr/route.js"],"sourcesContent":["\nimport { NextResponse } from 'next/server';\n\nexport async function POST(request) {\n  const pdfContent = await request.arrayBuffer();\n\n  const apiKey = process.env.OCR_SPACE_API_KEY;\n  if (!apiKey) {\n    console.error('OCR_SPACE_API_KEY is not set.');\n    return NextResponse.json(\n      { error: 'Server configuration error: API key missing.' },\n      { status: 500 }\n    );\n  }\n\n  const formData = new FormData();\n  formData.append('apikey', apiKey);\n  formData.append('file', new Blob([pdfContent]), 'document.pdf');\n\n  try {\n    const ocrResponse = await fetch('https://api.ocr.space/parse/image', {\n      method: 'POST',\n      body: formData,\n    });\n\n    const ocrResult = await ocrResponse.json();\n\n    if (ocrResult.IsErroredOnProcessing) {\n      return NextResponse.json(\n        { error: `OCR.space API Error: ${ocrResult.ErrorMessage}` },\n        { status: 500 }\n      );\n    }\n\n    const extractedText = ocrResult.ParsedResults[0]?.ParsedText || 'No text found.';\n\n    return NextResponse.json({ text: extractedText });\n  } catch (error) {\n    console.error('Error calling OCR.space API:', error);\n    return NextResponse.json(\n      { error: 'Failed to process PDF.' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;AACA;;AAEO,eAAe,KAAK,OAAO;IAChC,MAAM,aAAa,MAAM,QAAQ,WAAW;IAE5C,MAAM,SAAS,QAAQ,GAAG,CAAC,iBAAiB;IAC5C,IAAI,CAAC,QAAQ;QACX,QAAQ,KAAK,CAAC;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA+C,GACxD;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,UAAU;IAC1B,SAAS,MAAM,CAAC,QAAQ,IAAI,KAAK;QAAC;KAAW,GAAG;IAEhD,IAAI;QACF,MAAM,cAAc,MAAM,MAAM,qCAAqC;YACnE,QAAQ;YACR,MAAM;QACR;QAEA,MAAM,YAAY,MAAM,YAAY,IAAI;QAExC,IAAI,UAAU,qBAAqB,EAAE;YACnC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,CAAC,qBAAqB,EAAE,UAAU,YAAY,EAAE;YAAC,GAC1D;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,gBAAgB,UAAU,aAAa,CAAC,EAAE,EAAE,cAAc;QAEhE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,MAAM;QAAc;IACjD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyB,GAClC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}